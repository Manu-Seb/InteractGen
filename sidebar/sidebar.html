<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Sidebar</title>
  <link rel="stylesheet" href="sidebar.css">
</head>

<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo-icon">AI</div>
        <span id="page-type-badge" class="badge">Generic</span>
      </div>
      <div class="header-right">
        <button id="close-btn" title="Close">Ã—</button>
      </div>
    </header>

    <!-- Content Area -->
    <main id="main-content" class="content">
      <!-- Dynamic content injected here by sidebar.js -->
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Analyzing context...</p>
      </div>
    </main>

    <!-- Footer removed (moved into templates) -->
    <!-- <footer id="footer-input" class="hidden">...</footer> -->
  </div>

  <!-- Templates -->

  <template id="template-blog">
    <div class="tabs">
      <button class="tab-btn active" data-tab="assistant">Assistant</button>
      <button class="tab-btn" data-tab="chat">Chat</button>
      <button class="tab-btn" data-tab="saved-pages">Saved</button>
    </div>

    <div id="tab-assistant" class="tab-content active">
      <div class="section">
        <h3>ğŸ“„ Article Assistant</h3>
        <div class="card action-card" data-action="summarize">
          <div class="card-icon">ğŸ“</div>
          <div class="card-text">Summarize this article</div>
        </div>
        <div class="options-row">
          <button class="small-btn" data-action="keypoints">Key Points</button>
          <button class="small-btn" data-action="tldr">TL;DR</button>
        </div>
        <div id="result-area" class="result-box hidden"></div>
      </div>
    </div>

    <div id="tab-chat" class="tab-content">
      <div class="chat-container">
        <div id="chat-history" class="chat-history"></div>
        <div class="chat-footer">
          <input type="text" id="user-input" placeholder="Ask about this article..." />
          <button id="send-btn">â¤</button>
        </div>
      </div>
    </div>

    <div id="tab-saved-pages" class="tab-content">
      <div class="quick-actions">
        <button class="primary-btn full-width" id="save-page-btn">â­ Save Current Page</button>
      </div>
      <ul id="saved-pages-list" class="list-group"></ul>
    </div>
  </template>

  <template id="template-marketplace">
    <div class="tabs">
      <button class="tab-btn active" data-tab="assistant">Assistant</button>
      <button class="tab-btn" data-tab="chat">Chat</button>
      <button class="tab-btn" data-tab="saved-pages">Saved</button>
    </div>

    <div id="tab-assistant" class="tab-content active">
      <div class="section">
        <h3>ğŸ›ï¸ Shopping Assistant</h3>
        <div class="card action-card" data-action="compare">
          <div class="card-icon">âš–ï¸</div>
          <div class="card-text">Compare prices</div>
        </div>
        <div class="card action-card" data-action="similar">
          <div class="card-icon">ğŸ”</div>
          <div class="card-text">Find similar items</div>
        </div>
        <div class="result-box hidden" id="shopping-results"></div>
      </div>
    </div>

    <div id="tab-chat" class="tab-content">
      <div class="chat-container">
        <div id="chat-history" class="chat-history"></div>
        <div class="chat-footer">
          <input type="text" id="user-input" placeholder="Ask about this product..." />
          <button id="send-btn">â¤</button>
        </div>
      </div>
    </div>

    <div id="tab-saved-pages" class="tab-content">
      <div class="quick-actions">
        <button class="primary-btn full-width" id="save-page-btn">â­ Save Current Page</button>
      </div>
      <ul id="saved-pages-list" class="list-group"></ul>
    </div>
  </template>

  <template id="template-online-course">
    <div class="tabs">
      <button class="tab-btn active" data-tab="assistant">Assistant</button>
      <button class="tab-btn" data-tab="chat">Chat</button>
      <button class="tab-btn" data-tab="saved-pages">Saved</button>
    </div>

    <div id="tab-assistant" class="tab-content active">
      <div class="section">
        <h3>ğŸ“ Course Assistant</h3>
        <div class="card action-card" data-action="similar-courses">
          <div class="card-icon">ğŸ“š</div>
          <div class="card-text">Find similar courses</div>
        </div>
        <div class="result-box hidden" id="course-results"></div>
      </div>
    </div>

    <div id="tab-chat" class="tab-content">
      <div class="chat-container">
        <div id="chat-history" class="chat-history"></div>
        <div class="chat-footer">
          <input type="text" id="user-input" placeholder="Ask about this course..." />
          <button id="send-btn">â¤</button>
        </div>
      </div>
    </div>

    <div id="tab-saved-pages" class="tab-content">
      <div class="quick-actions">
        <button class="primary-btn full-width" id="save-page-btn">â­ Save Current Page</button>
      </div>
      <ul id="saved-pages-list" class="list-group"></ul>
    </div>
  </template>

  <template id="template-dev">
    <div class="tabs">
      <button class="tab-btn active" data-tab="assistant">Assistant</button>
      <button class="tab-btn" data-tab="chat">Chat</button>
      <button class="tab-btn" data-tab="saved-pages">Saved</button>
    </div>

    <div id="tab-assistant" class="tab-content active">
      <div class="section">
        <h3>ğŸ’» Code Assistant</h3>
        <p class="hint-text">Select a code block on the page or choose an option:</p>
        <div class="card action-card" data-action="explain">
          <div class="card-icon">ğŸ¤”</div>
          <div class="card-text">Explain code</div>
        </div>
        <div class="card action-card" data-action="docs">
          <div class="card-icon">ğŸ“–</div>
          <div class="card-text">Find Docs</div>
        </div>
        <div id="code-preview" class="code-block hidden"></div>
        <div id="analysis-result" class="result-box hidden"></div>
      </div>
    </div>

    <div id="tab-chat" class="tab-content">
      <div class="chat-container">
        <div id="chat-history" class="chat-history"></div>
        <div class="chat-footer">
          <input type="text" id="user-input" placeholder="Ask about this code..." />
          <button id="send-btn">â¤</button>
        </div>
      </div>
    </div>

    <div id="tab-saved-pages" class="tab-content">
      <div class="quick-actions">
        <button class="primary-btn full-width" id="save-page-btn">â­ Save Current Page</button>
      </div>
      <ul id="saved-pages-list" class="list-group"></ul>
    </div>
  </template>

  <template id="template-generic">
    <div class="tabs">
      <button class="tab-btn active" data-tab="chat">Chat</button>
      <button class="tab-btn" data-tab="saved-pages">Saved Pages</button>
      <button class="tab-btn" data-tab="research">Research</button>
    </div>

    <div id="tab-chat" class="tab-content active">
      <div class="chat-container">
        <div id="chat-history" class="chat-history"></div>
        <div class="chat-footer">
          <input type="text" id="user-input" placeholder="Ask something..." />
          <button id="send-btn">â¤</button>
        </div>
      </div>
    </div>

    <div id="tab-saved-pages" class="tab-content">
      <div class="quick-actions">
        <button class="primary-btn full-width" id="save-page-btn">â­ Save Current Page</button>
      </div>
      <ul id="saved-pages-list" class="list-group"></ul>
    </div>

    <div id="tab-research" class="tab-content">
      <button class="primary-btn full-width" id="add-session-btn">+ Add Page to Session</button>
      <div id="research-list" class="list-group"></div>
      <button class="secondary-btn full-width" id="generate-notes-btn">Generate Notes</button>
    </div>
  </template>

  <script type="module" src="sidebar.js"></script>
</body>

</html>